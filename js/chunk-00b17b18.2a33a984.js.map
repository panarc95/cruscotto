{"version":3,"sources":["webpack:///./src/views/FatturaElettronica/ReportSeiGiorni.vue?3711","webpack:///src/views/FatturaElettronica/ReportSeiGiorni.vue","webpack:///./src/views/FatturaElettronica/ReportSeiGiorni.vue?e33c","webpack:///./src/views/FatturaElettronica/ReportSeiGiorni.vue","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","on","$event","getCompanies","attrs","_l","company","key","IDAzienda","staticStyle","getInvoices","_s","RagioneSociale","Conteggio","selectedCompany","invoice","ID","preventDefault","downloadInvoice","Nome_File","FI","getRealEsito","undefined","esiti","length","esito","type","datetime","filename","launchRemap","fo","NumeroFattura","DataFattura","RagSocDest","Invio","staticRenderFns","data","companies","Array","invoices","loading","mounted","methods","$store","dispatch","axios","id","dlURL","win","window","open","focus","mapURL","file","component","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","i","NAME","explicit","Collection","proto","prototype"],"mappings":"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","file":"js/chunk-00b17b18.2a33a984.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',[_vm._v(\"Fatture senza esito\")]),_vm._m(0),_c('button',{staticClass:\"btn btn-text float-right\",on:{\"click\":function($event){return _vm.getCompanies()}}},[_vm._v(\"\\n    Aggiorna\\n    \"),_c('i',{staticClass:\"fa fa-refresh\",attrs:{\"aria-hidden\":\"true\"}})]),_c('table',{staticClass:\"table table-sm table-striped\"},[_vm._m(1),_c('tbody',_vm._l((_vm.companies),function(company){return _c('tr',{key:company.IDAzienda,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.getInvoices(company)}}},[_c('td',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(company.IDAzienda))]),_c('td',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(company.RagioneSociale))]),_c('td',[_vm._v(_vm._s(company.Conteggio))])])}),0)]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"modelId\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"modelTitleId\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",staticStyle:{\"max-width\":\"95% !important\"},attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.selectedCompany))]),_vm._m(2)]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_vm._m(3),_c('table',{staticClass:\"table table-sm table-striped\"},[_vm._m(4),_c('tbody',_vm._l((_vm.invoices),function(invoice){return _c('tr',{key:invoice.ID},[_c('td',{attrs:{\"scope\":\"row\"}},[_c('a',{staticClass:\"btn btn-default btn-sm\",attrs:{\"title\":\"Scarica fattura direttamente dall'FI\",\"href\":\"#\",\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.downloadInvoice(invoice.Nome_File, invoice.FI)}}},[_c('i',{staticClass:\"fa fa-download\",attrs:{\"aria-hidden\":\"true\"}})]),_c('a',{staticClass:\"btn btn-default btn-sm\",attrs:{\"title\":\"Cerca esiti negli FO ricevuti\",\"href\":\"#\",\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getRealEsito(invoice.Nome_File, invoice.ID)}}},[_c('i',{staticClass:\"fa fa-search\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('td',[_vm._v(\"\\n                    \"+_vm._s(invoice.Nome_File)+\"\\n                    \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":'esito-' + invoice.ID}},[(_vm.esiti[invoice.ID] == undefined)?_c('span',[_vm._v(\"Ricerca notifiche in corso...\")]):_c('span',[(_vm.esiti[invoice.ID].length == 0)?_c('span',[_vm._v(\"Nessun risultato\")]):_c('span',_vm._l((_vm.esiti[invoice.ID]),function(esito){return _c('p',{key:esito.ID},[_c('b',[_vm._v(\"Trovata notifica di tipo \"+_vm._s(esito.type))]),_c('br'),_vm._v(\"\\n                            \"+_vm._s(esito.datetime)+\"\\n                            \"),_c('br'),_vm._v(\"\\n                            \"+_vm._s(esito.filename)+\"\\n                            \"),_c('br'),_c('a',{staticClass:\"btn btn-default btn-secondary\",staticStyle:{\"margin-right\":\".5rem\"},attrs:{\"title\":\"Rimappa FO\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.launchRemap(esito.fo)}}},[_c('i',{staticClass:\"fa fa-upload\",attrs:{\"aria-hidden\":\"true\"}})]),_c('a',{staticClass:\"btn btn-default btn-secondary\",attrs:{\"title\":\"Rimappa file\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.launchRemap(esito.fo,esito.filename)}}},[_c('i',{staticClass:\"fa fa-file\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\"\\n                            \"+_vm._s(esito.fo)+\"\\n                          \")])}),0)])])]),_c('td',[_vm._v(_vm._s(invoice.NumeroFattura))]),_c('td',[_vm._v(_vm._s(invoice.DataFattura))]),_c('td',[_vm._v(_vm._s(invoice.RagSocDest))]),_c('td',[_vm._v(_vm._s(invoice.Invio))]),_c('td',[_vm._v(_vm._s(invoice.FI))])])}),0)])])]),_vm._m(5)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"\\n    Di seguito sono raccolte le aziende che hanno fatture inviate da 2 o più giorni che ancora non hanno una notifica associata.\\n    \"),_c('br'),_vm._v(\"Cliccando su una riga sarà possibile vedere i dettagli delle fatture conteggiate come \\\"Senza esito\\\".\\n  \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{},[_c('tr',[_c('th',[_vm._v(\"IDAzienda\")]),_c('th',[_vm._v(\"Azienda\")]),_c('th',[_vm._v(\"Fatture senza esito\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"alert alert-warning\"},[_c('b',[_vm._v(\"Attenzione: non ricaricare la pagina se si lancia la mappatura degli esiti per una fattura con più esiti.\")]),_c('br'),_vm._v(\"Questa tabella elenca esclusivamente le fatture senza esito.\\n              \"),_c('br'),_vm._v(\"Una volta cominciata la mappatura di un FO relativo ad uno degli esiti di una fattura occorre finire la mappatura degli FO per tutti gli esiti prima di poter ricaricare la pagina (o, semplicemente, segnarsi il nome della fattura ed utilizzare lo strumento\\n              \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://archicons.archivium-srl.it/ArchiHub/procedures/varie/searchFOnew/#/search\"}},[_vm._v(\"Ricerca SdI\")]),_vm._v(\")\\n            \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(\"Nome File\")]),_c('th',[_vm._v(\"Numero Fattura\")]),_c('th',[_vm._v(\"Data Fattura\")]),_c('th',[_vm._v(\"Destinatario\")]),_c('th',[_vm._v(\"Data invio\")]),_c('th',[_vm._v(\"FI\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Chiudi\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h3>Fatture senza esito</h3>\r\n    <p>\r\n      Di seguito sono raccolte le aziende che hanno fatture inviate da 2 o più giorni che ancora non hanno una notifica associata.\r\n      <br />Cliccando su una riga sarà possibile vedere i dettagli delle fatture conteggiate come \"Senza esito\".\r\n    </p>\r\n\r\n    <button @click=\"getCompanies()\" class=\"btn btn-text float-right\">\r\n      Aggiorna\r\n      <i class=\"fa fa-refresh\" aria-hidden=\"true\"></i>\r\n    </button>\r\n    <table class=\"table table-sm table-striped\">\r\n      <thead class>\r\n        <tr>\r\n          <th>IDAzienda</th>\r\n          <th>Azienda</th>\r\n          <th>Fatture senza esito</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          style=\"cursor: pointer;\"\r\n          v-for=\"company in companies\"\r\n          :key=\"company.IDAzienda\"\r\n          @click=\"getInvoices(company)\"\r\n        >\r\n          <td scope=\"row\">{{ company.IDAzienda }}</td>\r\n          <td scope=\"row\">{{ company.RagioneSociale }}</td>\r\n          <td>{{ company.Conteggio }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"modelId\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"modelTitleId\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" style=\"max-width: 95% !important;\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">{{ selectedCompany }}</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"container-fluid\">\r\n              <div class=\"alert alert-warning\">\r\n                <b>Attenzione: non ricaricare la pagina se si lancia la mappatura degli esiti per una fattura con più esiti.</b>\r\n                <br />Questa tabella elenca esclusivamente le fatture senza esito.\r\n                <br />Una volta cominciata la mappatura di un FO relativo ad uno degli esiti di una fattura occorre finire la mappatura degli FO per tutti gli esiti prima di poter ricaricare la pagina (o, semplicemente, segnarsi il nome della fattura ed utilizzare lo strumento\r\n                <a\r\n                  target=\"_blank\"\r\n                  href=\"https://archicons.archivium-srl.it/ArchiHub/procedures/varie/searchFOnew/#/search\"\r\n                >Ricerca SdI</a>)\r\n              </div>\r\n              <table class=\"table table-sm table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>Nome File</th>\r\n                    <th>Numero Fattura</th>\r\n                    <th>Data Fattura</th>\r\n                    <th>Destinatario</th>\r\n                    <th>Data invio</th>\r\n                    <th>FI</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"invoice in invoices\" :key=\"invoice.ID\">\r\n                    <td scope=\"row\">\r\n                      <a\r\n                        title=\"Scarica fattura direttamente dall'FI\"\r\n                        @click.prevent=\"downloadInvoice(invoice.Nome_File, invoice.FI)\"\r\n                        class=\"btn btn-default btn-sm\"\r\n                        href=\"#\"\r\n                        role=\"button\"\r\n                      >\r\n                        <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\r\n                      </a>\r\n                      <a\r\n                        title=\"Cerca esiti negli FO ricevuti\"\r\n                        @click.prevent=\"getRealEsito(invoice.Nome_File, invoice.ID)\"\r\n                        class=\"btn btn-default btn-sm\"\r\n                        href=\"#\"\r\n                        role=\"button\"\r\n                      >\r\n                        <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                      </a>\r\n                    </td>\r\n                    <td>\r\n                      {{ invoice.Nome_File }}\r\n                      <div :id=\"'esito-' + invoice.ID\" class=\"collapse\">\r\n                        <span v-if=\"esiti[invoice.ID] == undefined\">Ricerca notifiche in corso...</span>\r\n                        <span v-else>\r\n                          <span v-if=\"esiti[invoice.ID].length == 0\">Nessun risultato</span>\r\n                          <span v-else>\r\n                            <p v-for=\"esito in esiti[invoice.ID]\" :key=\"esito.ID\">\r\n                              <b>Trovata notifica di tipo {{ esito.type }}</b>\r\n                              <br />\r\n                              {{ esito.datetime }}\r\n                              <br />\r\n                              {{ esito.filename }}\r\n                              <br />\r\n                              <a\r\n                                style=\"margin-right: .5rem;\"\r\n                                class=\"btn btn-default btn-secondary\"\r\n                                title=\"Rimappa FO\"\r\n                                href=\"#\"\r\n                                @click.prevent=\"launchRemap(esito.fo)\"\r\n                              >\r\n                                <i class=\"fa fa-upload\" aria-hidden=\"true\"></i>\r\n                              </a>\r\n\r\n                              <a\r\n                                class=\"btn btn-default btn-secondary\"\r\n                                title=\"Rimappa file\"\r\n                                href=\"#\"\r\n                                @click.prevent=\"launchRemap(esito.fo,esito.filename)\"\r\n                              >\r\n                                <i class=\"fa fa-file\" aria-hidden=\"true\"></i>\r\n                              </a>\r\n                              {{ esito.fo }}\r\n                            </p>\r\n                          </span>\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                    <td>{{ invoice.NumeroFattura }}</td>\r\n                    <td>{{ invoice.DataFattura }}</td>\r\n                    <td>{{ invoice.RagSocDest }}</td>\r\n                    <td>{{ invoice.Invio }}</td>\r\n                    <td>{{ invoice.FI }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Chiudi</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      companies: new Array(),\r\n      invoices: new Array(),\r\n      esiti: [],\r\n      selectedCompany: null,\r\n      loading: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCompanies();\r\n  },\r\n  methods: {\r\n    /**\r\n     * Lista delle aziende con il numero relativo di fatture senza esito\r\n     */\r\n    getCompanies() {\r\n      this.$store.dispatch(\"loading\");\r\n      this.axios\r\n        .get(this.apiURL + \"/fe/no-esito\")\r\n        .then(r => {\r\n          this.companies = r.data;\r\n        })\r\n        .catch(function() {})\r\n        .finally(() => {\r\n          this.$store.dispatch(\"loaded\");\r\n        });\r\n    },\r\n    /**\r\n     * Lista delle fatture senza esito per l'azienda selezionata\r\n     */\r\n    getInvoices(company) {\r\n      var id = company.IDAzienda;\r\n      this.selectedCompany = company.RagioneSociale;\r\n\r\n      this.$store.dispatch(\"loading\");\r\n      this.axios\r\n        .get(this.apiURL + \"/fe/no-esito/company/\" + id)\r\n        .then(r => {\r\n          this.invoices = r.data;\r\n          this.invoices.forEach(invoice => {\r\n            this.esiti[invoice.ID] = invoice.Notifiche;\r\n          });\r\n          this.$store.dispatch(\"loaded\");\r\n          $(\"#modelId\").modal(\"show\");\r\n        })\r\n        .catch(() => {\r\n          this.$store.dispatch(\"loaded\");\r\n        });\r\n    },\r\n    /**\r\n     * Download di una fattura direttamente dal file ZIP FI in cui è stata inviata\r\n     */\r\n    downloadInvoice(file, fi) {\r\n      var dlURL =\r\n        \"https://archicons.archivium-srl.it/ArchiHub/procedures/varie/searchFOnew/api.php/out/download/file/\" +\r\n        file +\r\n        \"/\" +\r\n        fi;\r\n\r\n      var win = window.open(dlURL, \"_blank\");\r\n      win.focus();\r\n    },\r\n    launchRemap(fo, file = false) {\r\n      var mapURL =\r\n        \"https://archicons.archivium-srl.it/ArchiHub/procedures/FE/FOMapper.php?nolock&file=\" +\r\n        fo;\r\n      if (file) {\r\n        mapURL += \"&nomefile=\" + file;\r\n      }\r\n      // eslint-disable-next-line\r\n      var FOMapper = window.open(mapURL, \"FOMapper\", \"width=800, height=800\");\r\n    },\r\n\r\n    getRealEsito(nomefile, id) {\r\n      $(\"#esito-\" + id).collapse(\"toggle\");\r\n      if (this.esiti[id] == undefined) {\r\n        this.axios\r\n          .get(this.apiURL + \"/fe/no-esito/search-esito/\" + nomefile)\r\n          .then(r => {\r\n            this.$set(this.esiti, id, r.data);\r\n          });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportSeiGiorni.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportSeiGiorni.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportSeiGiorni.vue?vue&type=template&id=2ee044da&\"\nimport script from \"./ReportSeiGiorni.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportSeiGiorni.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}